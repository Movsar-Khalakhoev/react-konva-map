(this["webpackJsonpzones-layout"]=this["webpackJsonpzones-layout"]||[]).push([[0],{14:function(e,t,n){e.exports={zones:"AdminPanel_zones__3DwSJ",zone:"AdminPanel_zone__2F3c2",zoneTitle:"AdminPanel_zoneTitle__1HiWl",title:"AdminPanel_title__11Zqu",container:"AdminPanel_container__3eCw1",rightPanel:"AdminPanel_rightPanel__22G42",joystickContainer:"AdminPanel_joystickContainer__2BP-F",joystickButtons:"AdminPanel_joystickButtons__2e66-",joystickTopArrow:"AdminPanel_joystickTopArrow__204dw",joystickBottomArrow:"AdminPanel_joystickBottomArrow__1VgBf",joystickLeftArrow:"AdminPanel_joystickLeftArrow__23CaZ",joystickRightArrow:"AdminPanel_joystickRightArrow__3b0F4",joystickRotateRight:"AdminPanel_joystickRotateRight__16U1K",joystickRotateLeft:"AdminPanel_joystickRotateLeft__14qMv",joystickZoomIn:"AdminPanel_joystickZoomIn__3CKfw",joystickZoomOut:"AdminPanel_joystickZoomOut__PKJAe",broadcast:"AdminPanel_broadcast__2la3F",broadcastContainer:"AdminPanel_broadcastContainer__z84D9",prevStateButton:"AdminPanel_prevStateButton__2x7pt",actionsContainer:"AdminPanel_actionsContainer__1rHKd",actionsCreate:"AdminPanel_actionsCreate__3z6kn",actionsApply:"AdminPanel_actionsApply__4yOBR",actionsCancel:"AdminPanel_actionsCancel__1FGU4"}},28:function(e,t,n){e.exports={page:"PageLayout_page__2ddSV",navbar:"PageLayout_navbar__c0dvT",buttonsGroup:"PageLayout_buttonsGroup__1ehu0",button:"PageLayout_button__e9sQ7",buttonActive:"PageLayout_buttonActive__3Y8HV",content:"PageLayout_content__1-Xq7"}},32:function(e,t,n){e.exports={maps:"MnemonicScheme_maps__3xjpY",minimapWrapper:"MnemonicScheme_minimapWrapper__1zZap",cameras:"MnemonicScheme_cameras__SPeUA",camera:"MnemonicScheme_camera__169tT"}},38:function(e,t,n){e.exports={broadcast:"OnlineCamera_broadcast__2TFg0",actions:"OnlineCamera_actions__2IymO",actionsArchive:"OnlineCamera_actionsArchive__fpBTJ",actionsGoBack:"OnlineCamera_actionsGoBack__1k7eK",actionsEdit:"OnlineCamera_actionsEdit__16MNs"}},46:function(e,t,n){e.exports={cameras:"Online_cameras__1R824",camera:"Online_camera__1KAV9",cameraActive:"Online_cameraActive___HYUK",active:"Online_active__2SRla"}},59:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),c=n(52),o=n.n(c),s=(n(59),n(13)),r=n(27),l=n(17),u=n(5),j=i.a.createContext({fullMapRef:{current:null},fullMapXPosition:0,fullMapYPosition:0,setFullMapXPosition:function(){},setFullMapYPosition:function(){},miniMapRef:{current:null},miniMapXPosition:0,miniMapYPosition:0,setMiniMapXPosition:function(){},setMiniMapYPosition:function(){},scale:1,setScale:function(){},scaleDelta:0,setScaleDelta:function(){}}),d=function(e){var t=e.children,n=Object(a.useRef)(null),c=Object(a.useRef)(null),o=i.a.useState(0),s=Object(l.a)(o,2),r=s[0],d=s[1],m=i.a.useState(0),b=Object(l.a)(m,2),_=b[0],h=b[1],O=i.a.useState(0),f=Object(l.a)(O,2),p=f[0],x=f[1],v=i.a.useState(0),g=Object(l.a)(v,2),P=g[0],A=g[1],y=i.a.useState(1),k=Object(l.a)(y,2),M=k[0],N=k[1],C=i.a.useState(0),w=Object(l.a)(C,2),S=w[0],R=w[1];return Object(u.jsx)(j.Provider,{value:{fullMapRef:n,fullMapXPosition:r,fullMapYPosition:_,setFullMapXPosition:d,setFullMapYPosition:h,miniMapRef:c,miniMapXPosition:p,miniMapYPosition:P,setMiniMapXPosition:x,setMiniMapYPosition:A,scale:M,setScale:N,scaleDelta:S,setScaleDelta:R},children:t})};var m=n.p+"static/media/zones-plan.fbffd0f7.jpeg",b=n(53),_=function(){var e=i.a.useRef(null),t=i.a.useContext(j),n=t.miniMapRef,a=t.setMiniMapXPosition,c=t.setMiniMapYPosition,o=t.fullMapXPosition,s=t.fullMapYPosition,l=t.scale,d={width:window.innerWidth/l,height:window.innerHeight/l};return Object(u.jsx)(b.Stage,{width:271,height:271,ref:n,scaleX:.1355,scaleY:.1355,children:Object(u.jsx)(r.b,{id:"viewbox",children:Object(u.jsx)(r.d,{x:o,y:s,onDragMove:function(){if(null!==e.current){var t=e.current.getPosition(),n=t.x,i=t.y;a(-1*n),c(-1*i)}},draggable:!0,width:d.width,height:d.height,fill:"rgba(86, 204, 242, 0.1)",stroke:"#2d9cdb",strokeWidth:2,ref:e})})})},h=function(){var e=function(e,t){var n=i.a.useState({image:void 0,status:"loading"}),a=Object(l.a)(n,2),c=a[0],o=a[1];return i.a.useEffect((function(){if(e){var n=document.createElement("img");return n.addEventListener("load",a),n.addEventListener("error",i),t&&(n.crossOrigin=t),n.src=e,function(){n.removeEventListener("load",a),n.removeEventListener("error",i),o({image:void 0,status:"loading"})}}function a(){o({image:n,status:"loaded"})}function i(){o({image:void 0,status:"failed"})}}),[e,t]),c}(m).image,t=i.a.useContext(j),n=t.fullMapRef,a=t.setFullMapXPosition,c=t.setFullMapYPosition,o=t.scale,s=t.setScale;return Object(u.jsx)("div",{children:Object(u.jsx)(r.e,{width:2e3,height:2e3,scaleX:o,scaleY:o,onDragMove:function(){if(null!==n.current){var e=n.current.getPosition(),t=e.x,i=e.y;a(-t),c(-i)}},draggable:!0,onWheel:function(e){if(null!==n.current){var t=e.evt.deltaY>0?1.03*o:o/1.03;s(t)}},ref:n,children:Object(u.jsx)(r.b,{id:"stuffToShow",children:Object(u.jsx)(r.a,{image:e})})})})},O=n(25),f=n(28),p=n.n(f),x=function(e){var t=e.children;return Object(u.jsxs)("div",{className:p.a.page,children:[Object(u.jsx)("div",{className:p.a.navbar,children:Object(u.jsxs)("div",{className:p.a.buttonsGroup,children:[Object(u.jsx)(O.c,{to:"/mnemonic-scheme",className:p.a.button,activeClassName:p.a.buttonActive,children:"\u041c\u043d\u0435\u043c\u043e\u0441\u0445\u0435\u043c\u0430"}),Object(u.jsx)(O.c,{to:"/admin-panel",className:p.a.button,activeClassName:p.a.buttonActive,children:"\u0410\u0434\u043c\u0438\u043d. \u043f\u0430\u043d\u0435\u043b\u044c"}),Object(u.jsx)(O.c,{to:"/online",className:p.a.button,activeClassName:p.a.buttonActive,children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]})}),Object(u.jsx)("div",{className:p.a.content,children:t})]})},v=n(32),g=n.n(v),P=function(){var e=function(e){localStorage.setItem("activeCamera",JSON.stringify({cameraTitle:e,lastUpdate:new Date}))};return Object(u.jsx)(x,{children:Object(u.jsx)(d,{children:Object(u.jsxs)("div",{className:g.a.maps,children:[Object(u.jsx)(h,{}),Object(u.jsx)("div",{className:g.a.minimapWrapper,children:Object(u.jsx)(_,{})}),Object(u.jsxs)("div",{className:g.a.cameras,children:[Object(u.jsx)("button",{className:g.a.camera,onClick:function(){return e("\u041a\u0430\u043c\u0435\u0440\u0430 1")},children:"\u041a\u0430\u043c\u0435\u0440\u0430 1"}),Object(u.jsx)("button",{className:g.a.camera,onClick:function(){return e("\u041a\u0430\u043c\u0435\u0440\u0430 2")},children:"\u041a\u0430\u043c\u0435\u0440\u0430 2"}),Object(u.jsx)("button",{className:g.a.camera,onClick:function(){return e("\u041a\u0430\u043c\u0435\u0440\u0430 3")},children:"\u041a\u0430\u043c\u0435\u0440\u0430 3"}),Object(u.jsx)("button",{className:g.a.camera,onClick:function(){return e("\u041a\u0430\u043c\u0435\u0440\u0430 4")},children:"\u041a\u0430\u043c\u0435\u0440\u0430 4"})]})]})})})},A=n(31),y=n(14),k=n.n(y),M=function(){var e=i.a.useState([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=i.a.useRef(!1),o=i.a.useRef(null),s=i.a.useState({width:0,height:0}),j=Object(l.a)(s,2),d=j[0],m=j[1];return i.a.useEffect((function(){o.current&&m({width:o.current.clientWidth,height:o.current.clientHeight})}),[o.current]),Object(u.jsxs)(x,{children:[Object(u.jsx)("p",{className:k.a.title,children:"\u043a\u0430\u043c\u0435\u0440\u0430 123123423"}),Object(u.jsxs)("div",{className:k.a.container,children:[Object(u.jsx)("div",{className:k.a.broadcastContainer,children:Object(u.jsxs)("div",{className:k.a.broadcast,ref:o,children:[Object(u.jsx)("button",{className:k.a.prevStateButton,onClick:function(){return a((function(e){return e.slice(0,e.length-1)}))},children:"\u2190"}),Object(u.jsx)(r.e,{width:d.width,height:d.height,onMouseDown:function(e){var t;c.current=!0;var n=null===(t=e.target.getStage())||void 0===t?void 0:t.getPointerPosition();a((function(e){return[].concat(Object(A.a)(e),[[n.x,n.y]])}))},onMousemove:function(e){if(c.current){var t=e.target.getStage().getPointerPosition();a((function(e){return[].concat(Object(A.a)(e.slice(0,e.length-1)),[[].concat(Object(A.a)(e[e.length-1]),[t.x,t.y])])}))}},onMouseUp:function(){c.current=!1,a((function(e){var t=e[e.length-1];return[].concat(Object(A.a)(e.slice(0,e.length-1)),[[].concat(Object(A.a)(t),[t[0],t[1]])])}))},children:Object(u.jsx)(r.b,{children:n.map((function(e,t){return Object(u.jsx)(r.c,{points:e,stroke:"red",strokeWidth:2,tension:.5,lineCap:"round",globalCompositeOperation:"source-over",fill:"rgba(255, 0, 0, 0.2)",closed:t!==n.length-1||!c.current},t)}))})})]})}),Object(u.jsxs)("div",{className:k.a.rightPanel,children:[Object(u.jsx)("div",{className:k.a.joystickContainer,children:Object(u.jsxs)("div",{className:k.a.joystickButtons,children:[Object(u.jsx)("button",{className:k.a.joystickTopArrow,children:"\u2191"}),Object(u.jsx)("button",{className:k.a.joystickBottomArrow,children:"\u2193"}),Object(u.jsx)("button",{className:k.a.joystickLeftArrow,children:"\u2190"}),Object(u.jsx)("button",{className:k.a.joystickRightArrow,children:"\u2192"}),Object(u.jsx)("button",{className:k.a.joystickRotateRight,children:"\u27f3"}),Object(u.jsx)("button",{className:k.a.joystickRotateLeft,children:"\u27f2"}),Object(u.jsx)("button",{className:k.a.joystickZoomIn,children:"+"}),Object(u.jsx)("button",{className:k.a.joystickZoomOut,children:"\u2212"})]})}),Object(u.jsxs)("div",{className:k.a.actionsContainer,children:[Object(u.jsx)("button",{className:k.a.actionsCreate,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(u.jsx)("button",{className:k.a.actionsApply,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{className:k.a.actionsCancel,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})]})},N=n(46),C=n.n(N),w=function(){var e=i.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(u.jsxs)(x,{children:[Object(u.jsx)("button",{style:{position:"absolute",top:15,left:70},onClick:function(){return a((function(e){return!e}))},children:"\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)("div",{className:C.a.cameras,children:Array(5).fill("").map((function(e,t){return Object(u.jsx)(O.b,{to:"/online/camera",className:"".concat(C.a.camera," ").concat(2===t&&n?C.a.cameraActive:"")},t)}))})]})},S=n(38),R=n.n(S),B=function(){var e=Object(s.g)();return Object(u.jsxs)(x,{children:[Object(u.jsx)("div",{className:R.a.broadcast}),Object(u.jsxs)("div",{className:R.a.actions,children:[Object(u.jsx)("button",{className:R.a.actionsArchive,children:"\u0412 \u0430\u0440\u0445\u0438\u0432"}),Object(u.jsx)("button",{className:R.a.actionsGoBack,onClick:e.goBack,children:"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"}),Object(u.jsx)(O.b,{className:R.a.actionsEdit,to:"/admin-panel",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043c\u0435\u0440\u0443"})]})]})};var Y=function(){return Object(u.jsxs)(s.d,{children:[Object(u.jsx)(s.b,{path:"/mnemonic-scheme",component:P}),Object(u.jsx)(s.b,{path:"/admin-panel",component:M}),Object(u.jsx)(s.b,{path:"/online",component:w,exact:!0}),Object(u.jsx)(s.b,{path:"/online/camera",component:B}),Object(u.jsx)(s.a,{to:"/admin-panel"})]})};o.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(O.a,{children:Object(u.jsx)(Y,{})})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.3a907337.chunk.js.map
{"version":3,"sources":["pages/AdminPanel/AdminPanel.module.sass","components/PageLayout/PageLayout.module.sass","components/Modal/Modal.module.sass","context/ZonesContext.tsx","assets/zones-plan.jpeg","components/MiniMap.tsx","components/FullMap.tsx","hooks/useImage.tsx","components/PageLayout/PageLayout.tsx","pages/MnemonicScheme.tsx","components/Modal/Modal.tsx","pages/AdminPanel/AdminPanel.tsx","App.tsx","index.tsx"],"names":["module","exports","ZonesContext","React","createContext","fullMapRef","current","fullMapXPosition","fullMapYPosition","setFullMapXPosition","setFullMapYPosition","miniMapRef","miniMapXPosition","miniMapYPosition","setMiniMapXPosition","setMiniMapYPosition","scale","setScale","scaleDelta","setScaleDelta","ZonesProvider","children","useRef","useState","Provider","value","MiniMap","viewBoxRef","useContext","viewDimensions","width","window","innerWidth","height","innerHeight","ref","scaleX","MINI_MAP_WIDTH","scaleY","MINI_MAP_HEIGHT","id","x","y","onDragMove","getPosition","draggable","fill","stroke","strokeWidth","FullMap","image","url","crossOrigin","undefined","status","state","setState","useEffect","img","document","createElement","addEventListener","onload","onerror","src","removeEventListener","useImage","zonesPlanImage","onWheel","event","newScale","evt","deltaY","PageLayout","className","styles","page","navbar","buttonsGroup","to","button","activeClassName","buttonActive","content","MnemonicScheme","style","overflow","position","top","left","backgroundColor","Modal","isOpen","closeHandler","modal","overlay","cross","onClick","AdminPanel","zones","activeZone","setActiveZone","isModalOpen","setIsModalOpen","lines","setLines","isDrawing","map","zone","zoneTitle","activateZone","modalTitle","modalContainer","joystickContainer","joystickButton","broadcastContainer","broadcast","prevStateButton","prevState","slice","length","onMouseDown","e","pos","target","getStage","getPointerPosition","onMousemove","point","onMouseUp","line","i","points","tension","lineCap","globalCompositeOperation","actionsContainer","actionsCreate","actionsApply","actionsCancel","App","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04607c3a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"zones\":\"AdminPanel_zones__3DwSJ\",\"zone\":\"AdminPanel_zone__2F3c2\",\"zoneTitle\":\"AdminPanel_zoneTitle__1HiWl\",\"modalTitle\":\"AdminPanel_modalTitle__3vg75\",\"modalContainer\":\"AdminPanel_modalContainer__3AgGh\",\"joystickContainer\":\"AdminPanel_joystickContainer__2BP-F\",\"joystickButton\":\"AdminPanel_joystickButton__yGvXP\",\"broadcast\":\"AdminPanel_broadcast__2la3F\",\"broadcastContainer\":\"AdminPanel_broadcastContainer__z84D9\",\"prevStateButton\":\"AdminPanel_prevStateButton__2x7pt\",\"actionsContainer\":\"AdminPanel_actionsContainer__1rHKd\",\"actionsCreate\":\"AdminPanel_actionsCreate__3z6kn\",\"actionsApply\":\"AdminPanel_actionsApply__4yOBR\",\"actionsCancel\":\"AdminPanel_actionsCancel__1FGU4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"PageLayout_page__2ddSV\",\"navbar\":\"PageLayout_navbar__c0dvT\",\"buttonsGroup\":\"PageLayout_buttonsGroup__1ehu0\",\"button\":\"PageLayout_button__e9sQ7\",\"buttonActive\":\"PageLayout_buttonActive__3Y8HV\",\"content\":\"PageLayout_content__1-Xq7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__-2DO5\",\"overlay\":\"Modal_overlay__2Gig-\",\"content\":\"Modal_content__3i_vk\",\"cross\":\"Modal_cross__3_b8-\"};","import React, {useRef} from \"react\"\nimport {Stage} from \"konva/lib/Stage\"\n\ninterface IZonesContext {\n  fullMapRef: React.MutableRefObject<Stage | null>\n  fullMapXPosition: number\n  fullMapYPosition: number\n  setFullMapXPosition: React.Dispatch<React.SetStateAction<number>>\n  setFullMapYPosition: React.Dispatch<React.SetStateAction<number>>\n  miniMapRef: React.MutableRefObject<Stage | null>\n  miniMapXPosition: number\n  miniMapYPosition: number\n  setMiniMapXPosition: React.Dispatch<React.SetStateAction<number>>\n  setMiniMapYPosition: React.Dispatch<React.SetStateAction<number>>\n  scale: number,\n  setScale: React.Dispatch<React.SetStateAction<number>>\n  scaleDelta: number\n  setScaleDelta: React.Dispatch<React.SetStateAction<number>>\n}\n\nexport const ZonesContext = React.createContext<IZonesContext>({\n  fullMapRef: {current: null},\n  fullMapXPosition: 0,\n  fullMapYPosition: 0,\n  setFullMapXPosition: () => {},\n  setFullMapYPosition: () => {},\n  miniMapRef: {current: null},\n  miniMapXPosition: 0,\n  miniMapYPosition: 0,\n  setMiniMapXPosition: () => {},\n  setMiniMapYPosition: () => {},\n  scale: 1,\n  setScale: () => {},\n  scaleDelta: 0,\n  setScaleDelta: () => {}\n})\n\nconst ZonesProvider: React.FC = ({children}) => {\n  const fullMapRef = useRef<Stage>(null)\n  const miniMapRef = useRef<Stage>(null)\n  const [fullMapXPosition, setFullMapXPosition] = React.useState(0)\n  const [fullMapYPosition, setFullMapYPosition] = React.useState(0)\n  const [miniMapXPosition, setMiniMapXPosition] = React.useState(0)\n  const [miniMapYPosition, setMiniMapYPosition] = React.useState(0)\n  const [scale, setScale] = React.useState(1)\n  const [scaleDelta, setScaleDelta] = React.useState(0)\n\n  return (\n    <ZonesContext.Provider value={{\n      fullMapRef,\n      fullMapXPosition,\n      fullMapYPosition,\n      setFullMapXPosition,\n      setFullMapYPosition,\n      miniMapRef,\n      miniMapXPosition,\n      miniMapYPosition,\n      setMiniMapXPosition,\n      setMiniMapYPosition,\n      scale,\n      setScale,\n      scaleDelta,\n      setScaleDelta\n    }}>\n      {children}\n    </ZonesContext.Provider>\n  )\n}\n\nexport default ZonesProvider\n","export default __webpack_public_path__ + \"static/media/zones-plan.fbffd0f7.jpeg\";","import React from 'react'\nimport {ZonesContext} from \"../context/ZonesContext\"\nimport {Stage} from \"react-konva/lib/ReactKonvaCore\"\nimport {Layer, Rect} from \"react-konva\"\nimport IRect from \"konva/lib/shapes/Rect\"\n\nconst MINI_MAP_WIDTH = 271;\nconst MINI_MAP_HEIGHT = 271;\nexport const FULL_MAP_WIDTH = 2000;\nexport const FULL_MAP_HEIGHT = 2000;\n\nconst MiniMap = () => {\n  const viewBoxRef = React.useRef<IRect.Rect>(null)\n  const {\n    miniMapRef,\n    setMiniMapXPosition,\n    setMiniMapYPosition,\n    fullMapXPosition,\n    fullMapYPosition,\n    scale\n  } = React.useContext(ZonesContext)\n\n  const viewDimensions = {\n    width: window.innerWidth / scale,\n    height: window.innerHeight / scale\n  }\n  // const devices: any[] = []\n\n  function handleDragMove() {\n    if (viewBoxRef.current !== null) {\n      const { x, y } = viewBoxRef.current.getPosition();\n      setMiniMapXPosition(x * -1);\n      setMiniMapYPosition(y * -1);\n    }\n  }\n\n  return (\n    <Stage\n      width={MINI_MAP_WIDTH}\n      height={MINI_MAP_HEIGHT}\n      ref={miniMapRef}\n      scaleX={MINI_MAP_WIDTH / FULL_MAP_WIDTH}\n      scaleY={MINI_MAP_HEIGHT / FULL_MAP_HEIGHT}\n    >\n      {/*<Layer id='screens'>*/}\n      {/*  <Group>*/}\n      {/*    {devices}*/}\n      {/*  </Group>*/}\n      {/*</Layer>*/}\n      <Layer id='viewbox'>\n        <Rect\n          x={fullMapXPosition}\n          y={fullMapYPosition}\n          onDragMove={handleDragMove}\n          draggable\n          width={viewDimensions.width}\n          height={viewDimensions.height}\n          fill='rgba(86, 204, 242, 0.1)'\n          stroke='#2d9cdb'\n          strokeWidth={2}\n          ref={viewBoxRef}\n        />\n      </Layer>\n    </Stage>\n  )\n}\n\nexport default MiniMap\n","import React from 'react'\nimport {Image, Layer, Stage} from \"react-konva\"\nimport {ZonesContext} from \"../context/ZonesContext\"\nimport {useImage} from \"../hooks/useImage\"\nimport zonesPlanImage from \"../assets/zones-plan.jpeg\"\nimport {KonvaEventObject} from \"konva/lib/Node\"\nimport {FULL_MAP_HEIGHT, FULL_MAP_WIDTH} from \"./MiniMap\"\n\nconst scaleBy = 1.03;\n\nconst FullMap = () => {\n  const {image} = useImage(zonesPlanImage)\n  const {\n    fullMapRef,\n    setFullMapXPosition,\n    setFullMapYPosition,\n    scale,\n    setScale\n  } = React.useContext(ZonesContext)\n\n  function zoomStage(event: KonvaEventObject<WheelEvent>) {\n    const stage = fullMapRef.current\n    if (stage !== null) {\n      const newScale = event.evt.deltaY > 0 ? scale * scaleBy : scale / scaleBy;\n      setScale(newScale)\n    }\n  }\n\n  function handleDragMove() {\n    if (fullMapRef.current !== null) {\n      const { x, y } = fullMapRef.current.getPosition();\n      setFullMapXPosition(-x);\n      setFullMapYPosition(-y);\n    }\n  }\n\n  return (\n    <div>\n      <Stage\n        width={FULL_MAP_WIDTH}\n        height={FULL_MAP_HEIGHT}\n        scaleX={scale}\n        scaleY={scale}\n        onDragMove={handleDragMove}\n        draggable={true}\n        onWheel={zoomStage}\n        ref={fullMapRef}\n      >\n        <Layer id='stuffToShow'>\n          <Image image={image} />\n        </Layer>\n      </Stage>\n    </div>\n  )\n}\n\nexport default FullMap\n","import React from \"react\"\n\nexport function useImage(url: string, crossOrigin?: string) {\n  const [state, setState] = React.useState<{\n    image: HTMLImageElement | undefined,\n    status: 'loading' | 'loaded' | 'failed'\n  }>({image: undefined, status: \"loading\"});\n\n  React.useEffect(\n    function () {\n      if (!url) return;\n      const img = document.createElement('img');\n\n      function onload() {\n        setState({ image: img, status: 'loaded' });\n      }\n\n      function onerror() {\n        setState({ image: undefined, status: 'failed' });\n      }\n\n      img.addEventListener('load', onload);\n      img.addEventListener('error', onerror);\n      crossOrigin && (img.crossOrigin = crossOrigin);\n      img.src = url;\n\n      return function cleanup() {\n        img.removeEventListener('load', onload);\n        img.removeEventListener('error', onerror);\n        setState({image: undefined, status: 'loading'});\n      };\n    },\n    [url]\n  );\n\n  // return array because it it better to use in case of several useImage hooks\n  // const [background, backgroundStatus] = useImage(url1);\n  // const [patter] = useImage(url2);\n  return state\n}\n","import React from 'react'\nimport {NavLink} from \"react-router-dom\"\nimport styles from './PageLayout.module.sass'\n\nconst PageLayout: React.FC = ({children}) => {\n  return (\n    <div className={styles.page}>\n      <div className={styles.navbar}>\n        <div className={styles.buttonsGroup}>\n          <NavLink to='/mnemonic-scheme' className={styles.button} activeClassName={styles.buttonActive}>Мнемосхема</NavLink>\n          <NavLink to='/admin-panel' className={styles.button} activeClassName={styles.buttonActive}>Админ. панель</NavLink>\n        </div>\n      </div>\n      <div className={styles.content}>\n        {children}\n      </div>\n    </div>\n  )\n}\n\nexport default PageLayout\n","import React from 'react'\nimport FullMap from \"../components/FullMap\"\nimport MiniMap from \"../components/MiniMap\"\nimport ZonesProvider from \"../context/ZonesContext\"\nimport PageLayout from \"../components/PageLayout/PageLayout\"\n\nconst MnemonicScheme = () => {\n  return (\n    <PageLayout>\n      <ZonesProvider>\n        <div style={{height: '100%', width: '100vw', overflow: 'hidden'}}>\n          <FullMap />\n          <div style={{position: \"absolute\", top: 10, left: 10, backgroundColor: '#c1c1c1'}}>\n            <MiniMap />\n          </div>\n        </div>\n      </ZonesProvider>\n    </PageLayout>\n  )\n}\n\nexport default MnemonicScheme\n","import React from 'react'\nimport styles from './Modal.module.sass'\n\ninterface ModalProps {\n  isOpen: boolean\n  closeHandler: () => void\n}\n\nconst Modal: React.FC<ModalProps> = ({children, isOpen, closeHandler}) => {\n  return (\n    <>\n      {isOpen && <div className={styles.modal}>\n        <span className={styles.overlay} />\n        <div className={styles.content}>\n          <span className={styles.cross} onClick={closeHandler}>&#10060;</span>\n          {children}\n        </div>\n      </div>}\n    </>\n  )\n}\n\nexport default Modal\n","import React from 'react'\nimport styles from './AdminPanel.module.sass'\nimport PageLayout from \"../../components/PageLayout/PageLayout\"\nimport Modal from \"../../components/Modal/Modal\"\nimport {Layer, Line, Stage} from \"react-konva\"\nimport {KonvaEventObject} from \"konva/lib/Node\"\n\nconst AdminPanel = () => {\n  const [zones] = React.useState([\n    'Зона 1 Упаковочная машина 3',\n    'Зона 2 Упаковочная машина 2',\n    'Зона 3 Упаковочная машина 1',\n    'Зона 4 Магазин поддонов',\n    'Зона 5 Стрейч-Хууд',\n    'Зона 6 Штабелер'\n  ])\n  const [activeZone, setActiveZone] = React.useState<string | null>(null)\n  const [isModalOpen, setIsModalOpen] = React.useState(false)\n  const [lines, setLines] = React.useState<number[][]>([]);\n  const isDrawing = React.useRef(false);\n\n  const activateZone = (zone: string) => {\n    setActiveZone(zone)\n    setIsModalOpen(true)\n  }\n\n  const handleMouseDown = (e: KonvaEventObject<MouseEvent>) => {\n    isDrawing.current = true;\n    const pos = e.target.getStage()?.getPointerPosition();\n    setLines(prevState => {\n      return [...prevState, [pos!.x, pos!.y]]\n    });\n  };\n\n  const handleMouseMove = (e: KonvaEventObject<MouseEvent>) => {\n    // no drawing - skipping\n    if (!isDrawing.current) {\n      return;\n    }\n    const stage = e.target.getStage()!;\n    const point = stage.getPointerPosition()!;\n    setLines(prevState => {\n      return [...prevState.slice(0, prevState.length - 1), [...prevState[prevState.length - 1], point.x, point.y]]\n    })\n  };\n\n  const handleMouseUp = () => {\n    isDrawing.current = false;\n  };\n\n  const closeModalHandler = () => {\n    setIsModalOpen(false)\n    setLines([])\n    setActiveZone(null)\n  }\n\n  return (\n    <PageLayout>\n      <div className={styles.zones}>\n        {\n          zones.map(zone => (\n            <div className={styles.zone}>\n              <p className={styles.zoneTitle} onClick={() => activateZone(zone)}>{zone}</p>\n            </div>\n          ))\n        }\n      </div>\n      <Modal isOpen={isModalOpen} closeHandler={closeModalHandler}>\n        <p className={styles.modalTitle}>{activeZone}</p>\n        <div className={styles.modalContainer}>\n          <div className={styles.joystickContainer}>\n            <button className={styles.joystickButton}>Влево</button>\n            <button className={styles.joystickButton}>Вправо</button>\n          </div>\n          <div className={styles.broadcastContainer}>\n            <div className={styles.broadcast}>\n              <button className={styles.prevStateButton} onClick={\n                () => setLines(prevState => prevState.slice(0, prevState.length - 1))}>&#x2190;</button>\n              <Stage\n                width={500}\n                height={500}\n                onMouseDown={handleMouseDown}\n                onMousemove={handleMouseMove}\n                onMouseUp={handleMouseUp}\n              >\n                <Layer>\n                  {lines.map((line, i) => (\n                    <Line\n                      key={i}\n                      points={line}\n                      stroke=\"#df4b26\"\n                      strokeWidth={5}\n                      tension={0.5}\n                      lineCap=\"round\"\n                      globalCompositeOperation='source-over'\n                      fill='red'\n                    />\n                  ))}\n                </Layer>\n              </Stage>\n            </div>\n          </div>\n          <div className={styles.actionsContainer}>\n            <button className={styles.actionsCreate}>Создать</button>\n            <button className={styles.actionsApply}>Применить</button>\n            <button className={styles.actionsCancel}>Отмена</button>\n          </div>\n        </div>\n      </Modal>\n    </PageLayout>\n  )\n}\n\nexport default AdminPanel\n","import React from \"react\"\nimport {Redirect, Route, Switch} from \"react-router-dom\"\nimport MnemonicScheme from \"./pages/MnemonicScheme\"\nimport AdminPanel from \"./pages/AdminPanel/AdminPanel\"\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path='/mnemonic-scheme' component={MnemonicScheme} />\n      <Route path='/admin-panel' component={AdminPanel} />\n      <Redirect to='/admin-panel' />\n    </Switch>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
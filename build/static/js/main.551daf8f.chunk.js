(this["webpackJsonpzones-layout"]=this["webpackJsonpzones-layout"]||[]).push([[0],{17:function(e,t,n){e.exports={zones:"AdminPanel_zones__3DwSJ",zone:"AdminPanel_zone__2F3c2",zoneTitle:"AdminPanel_zoneTitle__1HiWl",modalTitle:"AdminPanel_modalTitle__3vg75",modalContainer:"AdminPanel_modalContainer__3AgGh",joystickContainer:"AdminPanel_joystickContainer__2BP-F",joystickButton:"AdminPanel_joystickButton__yGvXP",broadcast:"AdminPanel_broadcast__2la3F",broadcastContainer:"AdminPanel_broadcastContainer__z84D9",prevStateButton:"AdminPanel_prevStateButton__2x7pt",actionsContainer:"AdminPanel_actionsContainer__1rHKd",actionsCreate:"AdminPanel_actionsCreate__3z6kn",actionsApply:"AdminPanel_actionsApply__4yOBR",actionsCancel:"AdminPanel_actionsCancel__1FGU4"}},28:function(e,t,n){e.exports={page:"PageLayout_page__2ddSV",navbar:"PageLayout_navbar__c0dvT",buttonsGroup:"PageLayout_buttonsGroup__1ehu0",button:"PageLayout_button__e9sQ7",buttonActive:"PageLayout_buttonActive__3Y8HV",content:"PageLayout_content__1-Xq7"}},40:function(e,t,n){e.exports={modal:"Modal_modal__-2DO5",overlay:"Modal_overlay__2Gig-",content:"Modal_content__3i_vk",cross:"Modal_cross__3_b8-"}},57:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n.n(a),o=n(50),c=n.n(o),s=(n(57),n(13)),l=n(26),r=n(16),u=n(5),d=i.a.createContext({fullMapRef:{current:null},fullMapXPosition:0,fullMapYPosition:0,setFullMapXPosition:function(){},setFullMapYPosition:function(){},miniMapRef:{current:null},miniMapXPosition:0,miniMapYPosition:0,setMiniMapXPosition:function(){},setMiniMapYPosition:function(){},scale:1,setScale:function(){},scaleDelta:0,setScaleDelta:function(){}}),j=function(e){var t=e.children,n=Object(a.useRef)(null),o=Object(a.useRef)(null),c=i.a.useState(0),s=Object(r.a)(c,2),l=s[0],j=s[1],b=i.a.useState(0),m=Object(r.a)(b,2),h=m[0],f=m[1],p=i.a.useState(0),v=Object(r.a)(p,2),O=v[0],_=v[1],x=i.a.useState(0),g=Object(r.a)(x,2),P=g[0],M=g[1],y=i.a.useState(1),C=Object(r.a)(y,2),N=C[0],S=C[1],A=i.a.useState(0),k=Object(r.a)(A,2),w=k[0],X=k[1];return Object(u.jsx)(d.Provider,{value:{fullMapRef:n,fullMapXPosition:l,fullMapYPosition:h,setFullMapXPosition:j,setFullMapYPosition:f,miniMapRef:o,miniMapXPosition:O,miniMapYPosition:P,setMiniMapXPosition:_,setMiniMapYPosition:M,scale:N,setScale:S,scaleDelta:w,setScaleDelta:X},children:t})};var b=n.p+"static/media/zones-plan.fbffd0f7.jpeg",m=n(51),h=function(){var e=i.a.useRef(null),t=i.a.useContext(d),n=t.miniMapRef,a=t.setMiniMapXPosition,o=t.setMiniMapYPosition,c=t.fullMapXPosition,s=t.fullMapYPosition,r=t.scale,j={width:window.innerWidth/r,height:window.innerHeight/r};return Object(u.jsx)(m.Stage,{width:271,height:271,ref:n,scaleX:.1355,scaleY:.1355,children:Object(u.jsx)(l.b,{id:"viewbox",children:Object(u.jsx)(l.d,{x:c,y:s,onDragMove:function(){if(null!==e.current){var t=e.current.getPosition(),n=t.x,i=t.y;a(-1*n),o(-1*i)}},draggable:!0,width:j.width,height:j.height,fill:"rgba(86, 204, 242, 0.1)",stroke:"#2d9cdb",strokeWidth:2,ref:e})})})},f=function(){var e=function(e,t){var n=i.a.useState({image:void 0,status:"loading"}),a=Object(r.a)(n,2),o=a[0],c=a[1];return i.a.useEffect((function(){if(e){var n=document.createElement("img");return n.addEventListener("load",a),n.addEventListener("error",i),t&&(n.crossOrigin=t),n.src=e,function(){n.removeEventListener("load",a),n.removeEventListener("error",i),c({image:void 0,status:"loading"})}}function a(){c({image:n,status:"loaded"})}function i(){c({image:void 0,status:"failed"})}}),[e]),o}(b).image,t=i.a.useContext(d),n=t.fullMapRef,a=t.setFullMapXPosition,o=t.setFullMapYPosition,c=t.scale,s=t.setScale;return Object(u.jsx)("div",{children:Object(u.jsx)(l.e,{width:2e3,height:2e3,scaleX:c,scaleY:c,onDragMove:function(){if(null!==n.current){var e=n.current.getPosition(),t=e.x,i=e.y;a(-t),o(-i)}},draggable:!0,onWheel:function(e){if(null!==n.current){var t=e.evt.deltaY>0?1.03*c:c/1.03;s(t)}},ref:n,children:Object(u.jsx)(l.b,{id:"stuffToShow",children:Object(u.jsx)(l.a,{image:e})})})})},p=n(35),v=n(28),O=n.n(v),_=function(e){var t=e.children;return Object(u.jsxs)("div",{className:O.a.page,children:[Object(u.jsx)("div",{className:O.a.navbar,children:Object(u.jsxs)("div",{className:O.a.buttonsGroup,children:[Object(u.jsx)(p.b,{to:"/mnemonic-scheme",className:O.a.button,activeClassName:O.a.buttonActive,children:"\u041c\u043d\u0435\u043c\u043e\u0441\u0445\u0435\u043c\u0430"}),Object(u.jsx)(p.b,{to:"/admin-panel",className:O.a.button,activeClassName:O.a.buttonActive,children:"\u0410\u0434\u043c\u0438\u043d. \u043f\u0430\u043d\u0435\u043b\u044c"})]})}),Object(u.jsx)("div",{className:O.a.content,children:t})]})},x=function(){return Object(u.jsx)(_,{children:Object(u.jsx)(j,{children:Object(u.jsxs)("div",{style:{position:"relative",height:"100%",width:"100vw",overflow:"hidden"},children:[Object(u.jsx)(f,{}),Object(u.jsx)("div",{style:{position:"absolute",top:10,left:10,backgroundColor:"#c1c1c1"},children:Object(u.jsx)(h,{})})]})})})},g=n(36),P=n(17),M=n.n(P),y=n(40),C=n.n(y),N=function(e){var t=e.children,n=e.isOpen,a=e.closeHandler;return Object(u.jsx)(u.Fragment,{children:n&&Object(u.jsxs)("div",{className:C.a.modal,children:[Object(u.jsx)("span",{className:C.a.overlay}),Object(u.jsxs)("div",{className:C.a.content,children:[Object(u.jsx)("span",{className:C.a.cross,onClick:a,children:"\u274c"}),t]})]})})},S=function(){var e=i.a.useState(["\u0417\u043e\u043d\u0430 1 \u0423\u043f\u0430\u043a\u043e\u0432\u043e\u0447\u043d\u0430\u044f \u043c\u0430\u0448\u0438\u043d\u0430 3","\u0417\u043e\u043d\u0430 2 \u0423\u043f\u0430\u043a\u043e\u0432\u043e\u0447\u043d\u0430\u044f \u043c\u0430\u0448\u0438\u043d\u0430 2","\u0417\u043e\u043d\u0430 3 \u0423\u043f\u0430\u043a\u043e\u0432\u043e\u0447\u043d\u0430\u044f \u043c\u0430\u0448\u0438\u043d\u0430 1","\u0417\u043e\u043d\u0430 4 \u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043f\u043e\u0434\u0434\u043e\u043d\u043e\u0432","\u0417\u043e\u043d\u0430 5 \u0421\u0442\u0440\u0435\u0439\u0447-\u0425\u0443\u0443\u0434","\u0417\u043e\u043d\u0430 6 \u0428\u0442\u0430\u0431\u0435\u043b\u0435\u0440"]),t=Object(r.a)(e,1)[0],n=i.a.useState(null),a=Object(r.a)(n,2),o=a[0],c=a[1],s=i.a.useState(!1),d=Object(r.a)(s,2),j=d[0],b=d[1],m=i.a.useState([]),h=Object(r.a)(m,2),f=h[0],p=h[1],v=i.a.useRef(!1);return Object(u.jsxs)(_,{children:[Object(u.jsx)("div",{className:M.a.zones,children:t.map((function(e){return Object(u.jsx)("div",{className:M.a.zone,children:Object(u.jsx)("p",{className:M.a.zoneTitle,onClick:function(){return function(e){c(e),b(!0)}(e)},children:e})})}))}),Object(u.jsxs)(N,{isOpen:j,closeHandler:function(){b(!1),p([]),c(null)},children:[Object(u.jsx)("p",{className:M.a.modalTitle,children:o}),Object(u.jsxs)("div",{className:M.a.modalContainer,children:[Object(u.jsxs)("div",{className:M.a.joystickContainer,children:[Object(u.jsx)("button",{className:M.a.joystickButton,children:"\u0412\u043b\u0435\u0432\u043e"}),Object(u.jsx)("button",{className:M.a.joystickButton,children:"\u0412\u043f\u0440\u0430\u0432\u043e"})]}),Object(u.jsx)("div",{className:M.a.broadcastContainer,children:Object(u.jsxs)("div",{className:M.a.broadcast,children:[Object(u.jsx)("button",{className:M.a.prevStateButton,onClick:function(){return p((function(e){return e.slice(0,e.length-1)}))},children:"\u2190"}),Object(u.jsx)(l.e,{width:500,height:500,onMouseDown:function(e){var t;v.current=!0;var n=null===(t=e.target.getStage())||void 0===t?void 0:t.getPointerPosition();p((function(e){return[].concat(Object(g.a)(e),[[n.x,n.y]])}))},onMousemove:function(e){if(v.current){var t=e.target.getStage().getPointerPosition();p((function(e){return[].concat(Object(g.a)(e.slice(0,e.length-1)),[[].concat(Object(g.a)(e[e.length-1]),[t.x,t.y])])}))}},onMouseUp:function(){v.current=!1},children:Object(u.jsx)(l.b,{children:f.map((function(e,t){return Object(u.jsx)(l.c,{points:e,stroke:"#df4b26",strokeWidth:5,tension:.5,lineCap:"round",globalCompositeOperation:"source-over",fill:"red"},t)}))})})]})}),Object(u.jsxs)("div",{className:M.a.actionsContainer,children:[Object(u.jsx)("button",{className:M.a.actionsCreate,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(u.jsx)("button",{className:M.a.actionsApply,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(u.jsx)("button",{className:M.a.actionsCancel,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})]})};var A=function(){return Object(u.jsxs)(s.d,{children:[Object(u.jsx)(s.b,{path:"/mnemonic-scheme",component:x}),Object(u.jsx)(s.b,{path:"/admin-panel",component:S}),Object(u.jsx)(s.a,{to:"/admin-panel"})]})};c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(p.a,{children:Object(u.jsx)(A,{})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.551daf8f.chunk.js.map